---
layout: compress
---

<!doctype html>
<html lang="en" class="no-js">
  <head>
    {% include head.html %}
    {% include head/custom.html %}
  </head>

  <body>

    {% include browser-upgrade.html %}
    {% include masthead.html %}

    <div id="main" role="main">
      {% include sidebar.html %}
    
      <article class="page" itemscope itemtype="http://schema.org/CreativeWork">
        {% if page.title %}<meta itemprop="headline" content="{{ page.title | markdownify | strip_html | strip_newlines | escape_once }}">{% endif %}
        <div class="page__inner-wrap">
          <section class="page__content" itemprop="text">
            {{ content }}
          </section>
        </div>
      </article>
    </div>

    {% include scripts.html %}

  </body>
<script>
  document.addEventListener("DOMContentLoaded", () => {
    // 拦截所有带 data-href 属性的导航链接
    document.querySelectorAll("a[data-href]").forEach(a => {
      a.addEventListener("click", e => {
        e.preventDefault();
        const url    = a.getAttribute("data-href");  // 比如 "/news/"
        const target = a.getAttribute("data-target"); // 比如 "news"

        // 改变地址栏（不刷新页面）
        history.pushState(null, "", url);

        // 滚动到对应锚点
        const el = document.getElementById(target);
        if (el) el.scrollIntoView({ behavior: "smooth" });
      });
    });

    // 支持浏览器「前进/后退」按钮
    window.addEventListener("popstate", () => {
      const path = location.pathname.replace(/^\/|\/$/g, "") || "about-me";
      const el   = document.getElementById(path);
      if (el) el.scrollIntoView();
    });
  });
</script>

