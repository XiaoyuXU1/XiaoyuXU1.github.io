---
layout: compress
---

<!doctype html>
<html lang="en" class="no-js">
  <head>
    {% include head.html %}
    {% include head/custom.html %}
  </head>

  <body>

    {% include browser-upgrade.html %}
    {% include masthead.html %}

    <div id="main" role="main">
      {% include sidebar.html %}
    
      <article class="page" itemscope itemtype="http://schema.org/CreativeWork">
        {% if page.title %}<meta itemprop="headline" content="{{ page.title | markdownify | strip_html | strip_newlines | escape_once }}">{% endif %}
        <div class="page__inner-wrap">
          <section class="page__content" itemprop="text">
            {{ content }}
          </section>
        </div>
      </article>
    </div>

    {% include scripts.html %}

  </body>
</html>
<script>
document.addEventListener("DOMContentLoaded", function(){
  // 拿到所有 nav 里的链接
  document.querySelectorAll("nav a[href^='/']").forEach(function(link){
    link.addEventListener("click", function(e){
      const targetPath = link.getAttribute("href"); // e.g. "/publications"
      // 只处理本站内部链接
      if (!targetPath.startsWith("http")) {
        e.preventDefault(); // 阻止默认跳转
        const sectionId = targetPath.replace(/^\//, ""); // "/publications" → "publications"
        const targetEl = document.getElementById(sectionId);
        if (targetEl) {
          // 平滑滚动到对应区块
          targetEl.scrollIntoView({ behavior: "smooth" });
          // 修改地址栏，但不刷新页面
          history.pushState(null, "", targetPath);
        } else {
          // 如果该 ID 不存在，退回到正常跳转
          window.location.href = targetPath;
        }
      }
    });
  });
  
  // 处理浏览器前进后退：popstate 时也滚动
  window.addEventListener("popstate", function(){
    const id = location.pathname.replace(/^\//, "") || "about";
    const el = document.getElementById(id);
    if (el) el.scrollIntoView();
  });
});
</script>
